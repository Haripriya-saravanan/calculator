<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="infusion.css">
    </style>
</head>

<body>
    <div id="division">
        <h1>DRUG INFUSION DRIP CALCULATOR</h1>
        <label>Enter Weight in kg</label><br>
        <input type="number" id="weight"><br>
        <label>Enter infusion dose of a drug</label>
        <input type="number" id="dose">
        <select id="opt">
            <option value="option 1">mg/kg/hr</option>
            <option value="option 2">mg/kg/min</option>
            <option value="option 3">&#956;g/kg/hr</option>
            <option value="option 4">&#956;g/kg/min</option>
        </select><br>
        <button id="btn">REQUIRED DOSE</button>
        <p id="para"></p>
        <label>Avalability of the drug in mg</label><br>
        <input type="number" id="available"><br>
        <label>solution used for dilution in ml(eg:0.9%NS,RL)</label><br>
        <input type="number" id="dilution"><br>
        <button id="result">RESULT</button>
        <p id="output"></p>
    </div>
    <script>
        let weightinput = document.getElementById("weight");
        let doseinput = document.getElementById("dose");
        let btn = document.getElementById("btn");
        let para = document.getElementById("para");
        let avalabilityinput = document.getElementById("available");
        let dilutioninput = document.getElementById("dilution");
        let result = document.getElementById("result");
        let output = document.getElementById("output");
        let opt = document.getElementById("opt");
       

        btn.addEventListener("click", function () {
            let weight = weightinput.value;
            let dose = doseinput.value;
            let calculate = weight * dose;
            let type = opt.value;

            if(calculate > 0 &&type==="option 1") {
                para.textContent = "REQUIRED DOSE FOR THAT PARTICULAR PATIENT IS: " + calculate + " mg"
            } else if (calculate > 0 &&type==="option 2") {
                para.textContent = "REQUIRED DOSE FOR THAT PARTICULAR PATIENT IS: " + calculate + " mg"
            }else if (calculate > 0 && type==="option 3") {
                para.innerHTML = "<p>" + "REQUIRED DOSE FOR THAT PARTICULAR PATIENT IS: " + calculate + " &#956;g" + "</p>"
            }else if(calculate > 0 && type==="option 4" ) {
                para.innerHTML = "<p>" + "REQUIRED DOSE FOR THAT PARTICULAR PATIENT IS: " + calculate + " &#956;g" + "</p>"
            }
            else {
                para.innerHTML = `<span>`+"SORRY!! YOU ENTERED THE INVALID INPUT!"+`</span>`
            }
            console.log(type)
        });



        result.addEventListener("click", function () {
            let weight = weightinput.value;
            let dose = doseinput.value;
            let calculate = weight * dose;
            let availability = avalabilityinput.value;
            let dilution = dilutioninput.value;
            let type = opt.value;
            let solution = availability / dilution;
            if (type === "option 1"&&solution>0) {
                let required_ml = calculate / solution;
                let required_drops = required_ml * 16;
                let hour = required_drops / 60;
                output.textContent = "REQUIRED DROPS=" + hour + "  drops/min"
            } else if (type === "option 2"&&solution>0) {
                let required_ml = calculate / solution;
                let required_drops = required_ml * 16;
                output.textContent = "REQUIRED DROPS=" + required_drops + "  drops/min"
            }
            else if (type === "option 3"&&solution>0) {
                let micro = solution * 1000;
                let required_ml = calculate / micro;
                let required_drops = required_ml * 16;
                let hour = required_drops / 60;
                output.textContent = "REQUIRED DROPS=" + hour + "  drops/min"
            } else if (type === "option 4"&&solution>0) {
                let micro = solution * 1000;
                let required_ml = calculate / micro;
                let required_drops = required_ml * 16;
                output.textContent = "REQUIRED DROPS=" + required_drops + "  drops/min"
            }
            else {
                output.innerHTML = `<span>`+"SORRY!! YOU ENTERED THE INVALID INPUT!"+`</span>`
            }
            
        })
    </script>

</body>

</html>